/*! Built with http://stenciljs.com */
const{h:t}=window.postcomponent,s=$rdf.graph(),e=new $rdf.Fetcher(s),o=$rdf.Namespace("http://www.w3.org/2006/vcard/ns#"),i=$rdf.Namespace("http://rdfs.org/sioc/ns#"),a=$rdf.Namespace("http://www.w3.org/ns/ldp#");class l{constructor(){this.postList=[]}componentDidLoad(){this.postFolder=this.webid.substring(0,this.webid.length-15)+"public/posts/",fetch(this.postFolder,{method:"GET"}).then(async t=>{console.log(t),404===t.status?(await e.createContainer($rdf.sym(this.postFolder),"posts"),this.loadPosts()):this.loadPosts()})}loadPosts(){e.load(this.postFolder,{force:!0}).then(()=>{let t=s.each($rdf.sym(this.postFolder),a("contains"));this.postList=[],t.forEach(async t=>{let a=$rdf.sym(t.value+"#Post"),l=$rdf.sym(t.value+"#author");await e.load(a);let r=s.any(a,i("content"));await e.load(l);let n=s.any(l,o("fn")),p=s.any(l,i("avatar"));this.postList=[...this.postList,{name:n.value,image:p.value,content:r.value}]})})}render(){return t("div",{class:"post-list"},t("button",{onClick:this.loadPosts.bind(this),class:"post-button"},"Refresh"),t("h3",null,"List of posts"),this.postList.map(s=>t("div",{class:"post-list-item"},t("div",{class:"post-list-item-name"},s.name),t("div",{class:"post-list-item-image"},t("img",{src:s.image,class:"profile-image"})),t("div",{class:"post-list-item-text"},s.content))))}static get is(){return"post-list"}static get encapsulation(){return"shadow"}static get properties(){return{el:{elementRef:!0},postList:{state:!0},webid:{type:String,attr:"webid"}}}static get style(){return".profile-image.sc-post-list{width:50px}.new-post.sc-post-list{max-width:200px;position:absolute;margin-left:10px}.new-post.sc-post-list   h2.sc-post-list{color:#555;margin-bottom:6px}.new-post-form-input.sc-post-list{width:200px;height:50px;border-radius:8px;margin-top:10px;border-color:#ccc}.post-list.sc-post-list{margin:10px;color:#555;font-family:sans-serif}.post-list.sc-post-list   h3.sc-post-list{text-decoration:underline;text-transform:uppercase;font-size:18px}.post-list-item.sc-post-list{width:400px;height:100px;overflow:auto;border:1px solid #ccc;padding:4px;margin-bottom:12px}.post-list-item-name.sc-post-list{font-size:16px;margin:8px 4px}.post-list-item-image.sc-post-list{float:left;margin-right:14px;margin-left:10px}.post-list-item-text.sc-post-list{font-size:12px;color:#333}.post-button.sc-post-list{background-color:#7c4dff;color:#fff;padding:6px 24px;cursor:pointer;border-radius:14px;margin-top:4px}"}}export{l as PostList};